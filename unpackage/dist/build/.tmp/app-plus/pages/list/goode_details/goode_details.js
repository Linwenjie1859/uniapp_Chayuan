(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/list/goode_details/goode_details"],{"326c":function(o,t,e){"use strict";var n=function(){var o=this,t=o.$createElement;o._self._c},i=[];e.d(t,"a",function(){return n}),e.d(t,"b",function(){return i})},"4ab3":function(o,t,e){"use strict";(function(o){e("ae5d"),e("921b");n(e("66fd"));var t=n(e("7e9e"));function n(o){return o&&o.__esModule?o:{default:o}}o(t.default)}).call(this,e("6e42")["createPage"])},"7e9e":function(o,t,e){"use strict";e.r(t);var n=e("326c"),i=e("cf84");for(var s in i)"default"!==s&&function(o){e.d(t,o,function(){return i[o]})}(s);e("cbe3");var a=e("2877"),c=Object(a["a"])(i["default"],n["a"],n["b"],!1,null,"50f4ecbe",null);t["default"]=c.exports},cbe3:function(o,t,e){"use strict";var n=e("f7fb"),i=e.n(n);i.a},cf84:function(o,t,e){"use strict";e.r(t);var n=e("d10a"),i=e.n(n);for(var s in n)"default"!==s&&function(o){e.d(t,o,function(){return n[o]})}(s);t["default"]=i.a},d10a:function(o,t,e){"use strict";(function(o,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){return e.e("components/uni-popup/uni-popup").then(e.bind(null,"45f8"))},s={components:{uniPopup:i},data:function(){return{indicatorDots:!0,autoplay:!0,interval:2e3,duration:1e3,beforeHeaderzIndex:11,afterHeaderzIndex:10,beforeHeaderOpacity:1,afterHeaderOpacity:0,anchorlist:[],selectAnchor:0,isKeep:!1,show:!1,type:"",list:["1","2","3","4","5","6","7","8","9","10"],content:"顶部弹 popup",currentGoodsId:0,goodsInfo:{storeInfo:{price:0},reply:{avatar:"/static/pic.png"}},currentNum:1}},onLoad:function(o){this.currentGoodsId=o.id,this.getGoodInfo()},onReady:function(){this.calcAnchor()},onPageScroll:function(o){this.selectAnchor=o.scrollTop>=this.anchorlist[2].top?2:o.scrollTop>=this.anchorlist[1].top?1:0;var t=375;o.scrollTop=o.scrollTop>t?375:o.scrollTop,this.afterHeaderOpacity=o.scrollTop*(1/t),this.beforeHeaderOpacity=1-this.afterHeaderOpacity,this.beforeHeaderzIndex=o.scrollTop>0?10:11,this.afterHeaderzIndex=o.scrollTop>0?11:10},methods:{addGoodToCar:function(){var t=this;t.isLogin()&&t.basePost(t.U({c:"auth_api",a:"set_cart"}),{productId:t.goodsInfo.storeInfo.id,merId:t.goodsInfo.merInfo.id,cartNum:t.currentNum},function(o){200==o.code&&(t.Tips({title:"添加成功,在购物车等亲"}),t.cancel("share"))},function(t){console.log(o(t," at pages\\list\\goode_details\\goode_details.vue:265"))})},addSubNum:function(o){o<0&&1==this.currentNum?this.Tips({title:"亲，已经不能再减了"}):this.currentNum+=o},collectGood:function(){var t=this;this.isLogin()&&(console.log(o(this.isKeep," at pages\\list\\goode_details\\goode_details.vue:283")),this.isKeep?t.basePost(t.U({c:"store_api",a:"uncollect_product"}),{productId:t.currentGoodsId},function(o){200==o.code&&(t.isKeep=!1)},function(t){console.log(o(t," at pages\\list\\goode_details\\goode_details.vue:297"))}):t.basePost(t.U({c:"store_api",a:"collect_product"}),{productId:t.currentGoodsId},function(o){200==o.code&&(t.isKeep=!0)},function(t){console.log(o(t," at pages\\list\\goode_details\\goode_details.vue:313"))}))},getGoodInfo:function(){var t=this;t.baseGet(t.U({c:"store_api",a:"details",q:{id:t.currentGoodsId}}),function(o){t.goodsInfo=o.data,t.isKeep=o.data.storeInfo.userCollect},function(t){console.log(o(t," at pages\\list\\goode_details\\goode_details.vue:337"))},!0)},back:function(){n.navigateBack()},purchase:function(o){var t=this;t.baseGet(t.U({c:"auth_api",a:"now_buy",q:{productId:t.goodsInfo.storeInfo.id,merId:t.goodsInfo.merInfo.id,cartNum:t.currentNum}}),function(o){n.navigateTo({url:"/pages/user/confirm_order/confirm_order?listId="+o.data.cartId})},function(o){-1!=o.msg.indexOf("该产品库存不足")&&t.Tips({title:o.msg})},!0)},commodity:function(){n.navigateTo({url:"/pages/shop/shop_commodity/shop_commodity?storeId="+this.goodsInfo.merInfo.id})},cart:function(){n.switchTab({url:"/pages/tabber/shopping_cart/shopping_cart"})},details:function(o){n.navigateTo({url:"/pages/shop/comments_details/comments_details?id="+this.goodsInfo.storeInfo.id})},toAnchor:function(o){this.selectAnchor=o,n.pageScrollTo({scrollTop:this.anchorlist[o].top,duration:200})},calcAnchor:function(){var o=this;this.anchorlist=[{name:"商品",top:0},{name:"评价",top:0},{name:"详情",top:0}];var t=n.createSelectorQuery().select("#comments");t.boundingClientRect(function(t){var e=0;e=plus.navigator.getStatusbarHeight();var i=n.upx2px(100);o.anchorlist[1].top=t.top-i-e,o.anchorlist[2].top=t.bottom-i-e}).exec()},togglePopup:function(o,t){switch(o){case"top":this.content="顶部弹出 popup";break;case"bottom":this.content="底部弹出 popup";break;case"center":this.content="居中弹出 popup";break}this.type=o,"tip"===t?this.show=!0:this.$refs[t].open()},cancel:function(o){"tip"!==o?this.$refs[o].close():this.show=!1},change:function(t){console.log(o(t.show," at pages\\list\\goode_details\\goode_details.vue:456"))}}};t.default=s}).call(this,e("0de9")["default"],e("6e42")["default"])},f7fb:function(o,t,e){}},[["4ab3","common/runtime","common/vendor"]]]);