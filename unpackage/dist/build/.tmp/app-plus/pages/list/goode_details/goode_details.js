(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/list/goode_details/goode_details"],{"027a":function(t,o,e){"use strict";(function(t){e("7a84"),e("921b");n(e("66fd"));var o=n(e("04a5"));function n(t){return t&&t.__esModule?t:{default:t}}t(o.default)}).call(this,e("6e42")["createPage"])},"04a5":function(t,o,e){"use strict";e.r(o);var n=e("e9ac"),i=e("7dcc");for(var a in i)"default"!==a&&function(t){e.d(o,t,function(){return i[t]})}(a);e("8d56");var s,c=e("f0c5"),r=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"2b8ec556",null,!1,n["a"],s);o["default"]=r.exports},"327a":function(t,o,e){"use strict";(function(t,n){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=function(){return e.e("components/uni-popup/uni-popup").then(e.bind(null,"dc78"))},a={components:{uniPopup:i},data:function(){return{indicatorDots:!0,autoplay:!0,interval:2e3,duration:1e3,beforeHeaderzIndex:11,afterHeaderzIndex:10,beforeHeaderOpacity:1,afterHeaderOpacity:0,anchorlist:[],selectAnchor:0,isKeep:!1,show:!1,type:"",list:["1","2","3","4","5","6","7","8","9","10"],content:"顶部弹 popup",currentGoodsId:0,goodsInfo:{storeInfo:{price:0},reply:{avatar:"/static/pic.png"}},currentNum:1}},onLoad:function(t){this.currentGoodsId=t.id,this.getGoodInfo()},onReady:function(){this.calcAnchor()},onPageScroll:function(t){this.selectAnchor=t.scrollTop>=this.anchorlist[2].top?2:t.scrollTop>=this.anchorlist[1].top?1:0;var o=375;t.scrollTop=t.scrollTop>o?375:t.scrollTop,this.afterHeaderOpacity=t.scrollTop*(1/o),this.beforeHeaderOpacity=1-this.afterHeaderOpacity,this.beforeHeaderzIndex=t.scrollTop>0?10:11,this.afterHeaderzIndex=t.scrollTop>0?11:10},methods:{addGoodToCar:function(){var o=this;o.isLogin()&&o.basePost(o.U({c:"auth_api",a:"set_cart"}),{productId:o.goodsInfo.storeInfo.id,merId:o.goodsInfo.merInfo.id,cartNum:o.currentNum},function(t){200==t.code&&(o.Tips({title:"添加成功,在购物车等亲"}),o.cancel("share"))},function(o){t("log",o," at pages\\list\\goode_details\\goode_details.vue:265")})},addSubNum:function(t){t<0&&1==this.currentNum?this.Tips({title:"亲，已经不能再减了"}):this.currentNum+=t},collectGood:function(){var o=this;this.isLogin()&&(t("log",this.isKeep," at pages\\list\\goode_details\\goode_details.vue:283"),this.isKeep?o.basePost(o.U({c:"store_api",a:"uncollect_product"}),{productId:o.currentGoodsId},function(t){200==t.code&&(o.isKeep=!1)},function(o){t("log",o," at pages\\list\\goode_details\\goode_details.vue:297")}):o.basePost(o.U({c:"store_api",a:"collect_product"}),{productId:o.currentGoodsId},function(t){200==t.code&&(o.isKeep=!0)},function(o){t("log",o," at pages\\list\\goode_details\\goode_details.vue:313")}))},getGoodInfo:function(){var o=this;o.baseGet(o.U({c:"store_api",a:"details",q:{id:o.currentGoodsId}}),function(t){o.goodsInfo=t.data,o.isKeep=t.data.storeInfo.userCollect},function(o){t("log",o," at pages\\list\\goode_details\\goode_details.vue:337")},!0)},navToBack:function(){n.navigateBack()},purchase:function(t){var o=this;o.isLogin()&&o.baseGet(o.U({c:"auth_api",a:"now_buy",q:{productId:o.goodsInfo.storeInfo.id,merId:o.goodsInfo.merInfo.id,cartNum:o.currentNum}}),function(t){n.navigateTo({url:"/pages/user/confirm_order/confirm_order?listId="+t.data.cartId})},function(t){-1!=t.msg.indexOf("该产品库存不足")&&o.Tips({title:t.msg})},!0)},commodity:function(){n.navigateTo({url:"/pages/shop/shop_commodity/shop_commodity?storeId="+this.goodsInfo.merInfo.id})},cart:function(){n.switchTab({url:"/pages/tabber/shopping_cart/shopping_cart"})},details:function(t){this.isLogin()&&n.navigateTo({url:"/pages/shop/comments_details/comments_details?id="+this.goodsInfo.storeInfo.id})},toAnchor:function(t){this.selectAnchor=t,n.pageScrollTo({scrollTop:this.anchorlist[t].top,duration:200})},calcAnchor:function(){var t=this;this.anchorlist=[{name:"商品",top:0},{name:"评价",top:0},{name:"详情",top:0}];var o=n.createSelectorQuery().select("#comments");o.boundingClientRect(function(o){var e=0;e=plus.navigator.getStatusbarHeight();var i=n.upx2px(100);t.anchorlist[1].top=o.top-i-e,t.anchorlist[2].top=o.bottom-i-e}).exec()},togglePopup:function(t,o){switch(t){case"top":this.content="顶部弹出 popup";break;case"bottom":this.content="底部弹出 popup";break;case"center":this.content="居中弹出 popup";break}this.type=t,"tip"===o?this.show=!0:this.$refs[o].open()},cancel:function(t){"tip"!==t?this.$refs[t].close():this.show=!1},change:function(o){t("log",o.show," at pages\\list\\goode_details\\goode_details.vue:460")}}};o.default=a}).call(this,e("0de9")["default"],e("6e42")["default"])},"7dcc":function(t,o,e){"use strict";e.r(o);var n=e("327a"),i=e.n(n);for(var a in n)"default"!==a&&function(t){e.d(o,t,function(){return n[t]})}(a);o["default"]=i.a},"8d56":function(t,o,e){"use strict";var n=e("f380"),i=e.n(n);i.a},e9ac:function(t,o,e){"use strict";var n={"uni-popup":()=>e.e("components/uni-popup/uni-popup").then(e.bind(null,"dc78"))},i=function(){var t=this,o=t.$createElement;t._self._c},a=[];e.d(o,"b",function(){return i}),e.d(o,"c",function(){return a}),e.d(o,"a",function(){return n})},f380:function(t,o,e){}},[["027a","common/runtime","common/vendor"]]]);