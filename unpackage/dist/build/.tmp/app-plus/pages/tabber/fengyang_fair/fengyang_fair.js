(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabber/fengyang_fair/fengyang_fair"],{"1ed1":function(t,e,i){"use strict";i.r(e);var a=i("c884"),n=i("7965");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("a120");var r,o=i("f0c5"),c=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"b33f8068",null,!1,a["a"],r);e["default"]=c.exports},7965:function(t,e,i){"use strict";i.r(e);var a=i("e387"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},a120:function(t,e,i){"use strict";var a=i("e3be"),n=i.n(a);n.a},c884:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement;t._self._c},s=[];i.d(e,"b",function(){return n}),i.d(e,"c",function(){return s}),i.d(e,"a",function(){return a})},e387:function(t,e,i){"use strict";(function(t,i){function a(t,e){for(var i,a,n,s=[],r=0;r<=e;r++){n=t.slice(0),a=[];while(i=n.shift())if(n.length)a.push(o([i,n[0]],r/e));else{if(!(a.length>1))break;n=a,a=[]}s.push(a[0])}function o(t,e){var i,a,n,s,r,o,c,u,f=[];return i=t[0],a=t[1],s=a.x-i.x,r=a.y-i.y,n=Math.pow(Math.pow(s,2)+Math.pow(r,2),.5),o=r/s,c=Math.atan(o),u=n*e,f={x:i.x+u*Math.cos(c),y:i.y+u*Math.sin(c)},f}return{bezier_points:s}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{StatusAddHalfNav:this.StatusAddHalfNav,RemainingPosition:this.RemainingPosition+this.TabBar-40,StatusAddNav:this.StatusAddNav,operationList:[{name:"综合",check:1},{name:"销量",check:0},{name:"价格",check:0}],currentOperation:0,hide_good_box:!1,bus_x:0,bus_y:0,finger:{},busPos:{},linePos:[],timer:null,carNum:0,isKeep:!1,showCategoryIndex:0,categoryList:[],goodsList:[],priceOrder:0,salesOrder:0,allOrder:0,sortCurrentId:0,shakeFlag:!1}},onLoad:function(){var e=this;t.getSystemInfo({success:function(t){i("log",t," at pages\\tabber\\fengyang_fair\\fengyang_fair.vue:174"),e.busPos["x"]=t.screenWidth-50,e.busPos["y"]=t.screenHeight-83}}),this.getCategoryList()},methods:{changeOperation:function(t){t!=this.currentOperation&&(this.operationList[this.currentOperation].check=0),this.currentOperation=t,this.operationList[t].check=2==this.operationList[t].check?1:this.operationList[t].check+1,this.getSortGoods()},touchOnGoods:function(t,e){i("log","点击的坐标:",e," at pages\\tabber\\fengyang_fair\\fengyang_fair.vue:210"),this.timer&&clearInterval(this.timer),this.finger={};var n={};this.finger["x"]=t.target.x,this.finger["y"]=t.target.y,this.finger["y"]<this.busPos["y"]?n["y"]=this.finger["y"]-150:n["y"]=this.busPos["y"]-150,n["x"]=Math.abs(this.finger["x"]-this.busPos["x"])/2,this.finger["x"]>this.busPos["x"]?n["x"]=(this.finger["x"]-this.busPos["x"])/2+this.busPos["x"]:n["x"]=(this.busPos["x"]-this.finger["x"])/2+this.finger["x"],this.linePos=a([this.busPos,n,this.finger],30),this.startAnimation(e)},startAnimation:function(t){var e=0,i=this,a=i.linePos["bezier_points"];i.hide_good_box=!0,i.bus_x=i.finger["x"],i.bus_y=i.finger["y"];var n=a.length;e=n,i.timer=setInterval(function(){e--,i.bus_x=a[e]["x"],i.bus_y=a[e]["y"],e<25&&(i.shakeFlag=!0),e<1&&(clearInterval(i.timer),i.hide_good_box=!0,i.addGoodToCar(t))},25)},addGoodToCar:function(t){var e=this;e.isLogin()&&e.baseGet(e.U({c:"store_api",a:"details",q:{id:t}}),function(i){e.basePost(e.U({c:"auth_api",a:"set_cart"}),{productId:t,merId:i.data.merInfo.id,cartNum:1},function(t){e.carNum++,e.shakeFlag=!1},function(t){e.Tips({title:"服务器开小差了，请稍后在试~"})})},function(t){i("log",t," at pages\\tabber\\fengyang_fair\\fengyang_fair.vue:291")},!0)},changeAllRank:function(){this.allOrder=2==this.allOrder?0:this.allOrder+1,this.getSortGoods()},changeSalesRank:function(){this.salesOrder=2==this.salesOrder?0:this.salesOrder+1,this.getSortGoods()},changePriceRank:function(){this.priceOrder=2==this.priceOrder?0:this.priceOrder+1,this.getSortGoods()},getCategoryList:function(){var t=this;t.baseGet(t.U({c:"store_api",a:"get_id_cate"}),function(e){t.showCategory(0,e.data[0].id),t.categoryList=e.data},function(t){i("log",t," at pages\\tabber\\fengyang_fair\\fengyang_fair.vue:323")},!0)},keep:function(){this.isKeep=!this.isKeep},getSortGoods:function(){var t=this;t.goodsList=[],t.baseGet(t.U({c:"store_api",a:"get_product_list",q:{cid:t.sortCurrentId,keyword:"",priceOrder:0==t.operationList[2].check?"":1==t.operationList[2].check?"asc":"desc",salesOrder:0==t.operationList[1].check?"":1==t.operationList[1].check?"asc":"desc",news:"",page:"",limit:""}}),function(e){t.goodsList=e.data},function(t){i("log",t," at pages\\tabber\\fengyang_fair\\fengyang_fair.vue:355")},!0)},showCategory:function(t,e){this.showCategoryIndex=t,this.sortCurrentId=e,this.getSortGoods()},navToSearch:function(e){t.navigateTo({url:"/pages/list/search/search"})},switToShoppingCart:function(){t.switchTab({url:"/pages/tabber/shopping_cart/shopping_cart"})},goodeDetails:function(e){t.navigateTo({url:"/pages/list/goode_details/goode_details?id="+e.currentTarget.dataset.id})},navToBack:function(){t.navigateBack()}}};e.default=n}).call(this,i("6e42")["default"],i("0de9")["default"])},e3be:function(t,e,i){},fabd:function(t,e,i){"use strict";(function(t){i("7a84"),i("921b");a(i("66fd"));var e=a(i("1ed1"));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("6e42")["createPage"])}},[["fabd","common/runtime","common/vendor"]]]);