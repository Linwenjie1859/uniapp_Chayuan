(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/list/goode_details/goode_details"],{"027a":function(o,t,e){"use strict";(function(o){e("7a84"),e("921b");n(e("66fd"));var t=n(e("04a5"));function n(o){return o&&o.__esModule?o:{default:o}}o(t.default)}).call(this,e("543d")["createPage"])},"04a5":function(o,t,e){"use strict";e.r(t);var n=e("e9ac"),c=e("7dcc");for(var i in c)"default"!==i&&function(o){e.d(t,o,function(){return c[o]})}(i);e("8d56");var s,r=e("f0c5"),a=Object(r["a"])(c["default"],n["b"],n["c"],!1,null,"2b8ec556",null,!1,n["a"],s);t["default"]=a.exports},"327a":function(o,t,e){"use strict";(function(o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){return e.e("components/uni-popup/uni-popup").then(e.bind(null,"dc78"))},c={components:{uniPopup:n},data:function(){return{indicatorDots:!0,autoplay:!0,interval:2e3,duration:1e3,beforeHeaderzIndex:11,afterHeaderzIndex:10,beforeHeaderOpacity:1,afterHeaderOpacity:0,anchorlist:[],selectAnchor:0,isKeep:!1,show:!1,type:"",list:["1","2","3","4","5","6","7","8","9","10"],content:"顶部弹 popup",currentGoodsId:0,goodsInfo:{storeInfo:{price:0},reply:{avatar:"/static/pic.png"}},currentNum:1}},onLoad:function(o){this.currentGoodsId=o.id,this.getGoodInfo()},onReady:function(){this.calcAnchor()},onPageScroll:function(o){this.selectAnchor=o.scrollTop>=this.anchorlist[2].top?2:o.scrollTop>=this.anchorlist[1].top?1:0;var t=375;o.scrollTop=o.scrollTop>t?375:o.scrollTop,this.afterHeaderOpacity=o.scrollTop*(1/t),this.beforeHeaderOpacity=1-this.afterHeaderOpacity,this.beforeHeaderzIndex=o.scrollTop>0?10:11,this.afterHeaderzIndex=o.scrollTop>0?11:10},methods:{addGoodToCar:function(){var o=this;o.isLogin()&&o.basePost(o.U({c:"auth_api",a:"set_cart"}),{productId:o.goodsInfo.storeInfo.id,merId:o.goodsInfo.merInfo.id,cartNum:o.currentNum},function(t){200==t.code&&(o.Tips({title:"添加成功,在购物车等亲"}),o.cancel("share"))},function(o){console.log(o)})},addSubNum:function(o){o<0&&1==this.currentNum?this.Tips({title:"亲，已经不能再减了"}):this.currentNum+=o},collectGood:function(){var o=this;this.isLogin()&&(console.log(this.isKeep),this.isKeep?o.basePost(o.U({c:"store_api",a:"uncollect_product"}),{productId:o.currentGoodsId},function(t){200==t.code&&(o.isKeep=!1)},function(o){console.log(o)}):o.basePost(o.U({c:"store_api",a:"collect_product"}),{productId:o.currentGoodsId},function(t){200==t.code&&(o.isKeep=!0)},function(o){console.log(o)}))},getGoodInfo:function(){var o=this;o.baseGet(o.U({c:"store_api",a:"details",q:{id:o.currentGoodsId}}),function(t){o.goodsInfo=t.data,o.isKeep=t.data.storeInfo.userCollect},function(o){console.log(o)},!0)},navToBack:function(){o.navigateBack()},purchase:function(t){var e=this;e.isLogin()&&e.baseGet(e.U({c:"auth_api",a:"now_buy",q:{productId:e.goodsInfo.storeInfo.id,merId:e.goodsInfo.merInfo.id,cartNum:e.currentNum}}),function(t){o.navigateTo({url:"/pages/user/confirm_order/confirm_order?listId="+t.data.cartId})},function(o){-1!=o.msg.indexOf("该产品库存不足")&&e.Tips({title:o.msg})},!0)},commodity:function(){o.navigateTo({url:"/pages/shop/shop_commodity/shop_commodity?storeId="+this.goodsInfo.merInfo.id})},cart:function(){o.switchTab({url:"/pages/tabber/shopping_cart/shopping_cart"})},details:function(t){this.isLogin()&&o.navigateTo({url:"/pages/shop/comments_details/comments_details?id="+this.goodsInfo.storeInfo.id})},toAnchor:function(t){this.selectAnchor=t,o.pageScrollTo({scrollTop:this.anchorlist[t].top,duration:200})},calcAnchor:function(){var t=this;this.anchorlist=[{name:"商品",top:0},{name:"评价",top:0},{name:"详情",top:0}];var e=o.createSelectorQuery().select("#comments");e.boundingClientRect(function(e){var n=0,c=o.upx2px(100);t.anchorlist[1].top=e.top-c-n,t.anchorlist[2].top=e.bottom-c-n}).exec()},togglePopup:function(o,t){switch(o){case"top":this.content="顶部弹出 popup";break;case"bottom":this.content="底部弹出 popup";break;case"center":this.content="居中弹出 popup";break}this.type=o,"tip"===t?this.show=!0:this.$refs[t].open()},cancel:function(o){"tip"!==o?this.$refs[o].close():this.show=!1},change:function(o){console.log(o.show)}}};t.default=c}).call(this,e("543d")["default"])},"7dcc":function(o,t,e){"use strict";e.r(t);var n=e("327a"),c=e.n(n);for(var i in n)"default"!==i&&function(o){e.d(t,o,function(){return n[o]})}(i);t["default"]=c.a},"8d56":function(o,t,e){"use strict";var n=e("f380"),c=e.n(n);c.a},e9ac:function(o,t,e){"use strict";var n={"uni-popup":()=>e.e("components/uni-popup/uni-popup").then(e.bind(null,"dc78"))},c=function(){var o=this,t=o.$createElement;o._self._c},i=[];e.d(t,"b",function(){return c}),e.d(t,"c",function(){return i}),e.d(t,"a",function(){return n})},f380:function(o,t,e){}},[["027a","common/runtime","common/vendor"]]]);