(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabber/fengyang_fair/fengyang_fair"],{"1ed1":function(t,e,i){"use strict";i.r(e);var s=i("d10a"),o=i("7965");for(var n in o)"default"!==n&&function(t){i.d(e,t,function(){return o[t]})}(n);i("f67e");var a,r=i("f0c5"),c=Object(r["a"])(o["default"],s["b"],s["c"],!1,null,"0f1a6864",null,!1,s["a"],a);e["default"]=c.exports},3061:function(t,e,i){},7965:function(t,e,i){"use strict";i.r(e);var s=i("e387"),o=i.n(s);for(var n in s)"default"!==n&&function(t){i.d(e,t,function(){return s[t]})}(n);e["default"]=o.a},d10a:function(t,e,i){"use strict";var s,o=function(){var t=this,e=t.$createElement;t._self._c},n=[];i.d(e,"b",function(){return o}),i.d(e,"c",function(){return n}),i.d(e,"a",function(){return s})},e387:function(t,e,i){"use strict";(function(t){function i(t,e){for(var i,s,o,n=[],a=0;a<=e;a++){o=t.slice(0),s=[];while(i=o.shift())if(o.length)s.push(r([i,o[0]],a/e));else{if(!(s.length>1))break;o=s,s=[]}n.push(s[0])}function r(t,e){var i,s,o,n,a,r,c,u,h=[];return i=t[0],s=t[1],n=s.x-i.x,a=s.y-i.y,o=Math.pow(Math.pow(n,2)+Math.pow(a,2),.5),r=a/n,c=Math.atan(r),u=o*e,h={x:i.x+u*Math.cos(c),y:i.y+u*Math.sin(c)},h}return{bezier_points:n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={data:function(){return{StatusAddHalfNav:this.StatusAddHalfNav,RemainingPosition:this.RemainingPosition+this.TabBar-40,StatusAddNav:this.StatusAddNav,operationList:[{name:"综合",check:1},{name:"销量",check:0},{name:"价格",check:0}],currentOperation:0,hide_good_box:!1,bus_x:0,bus_y:0,finger:{},busPos:{},linePos:[],timer:null,carNum:0,isKeep:!1,showCategoryIndex:0,categoryList:[],goodsList:[],priceOrder:0,salesOrder:0,allOrder:0,sortCurrentId:0,shakeFlag:!1}},onLoad:function(){var e=this;t.getSystemInfo({success:function(t){console.log(t),e.busPos["x"]=t.screenWidth-50,e.busPos["y"]=t.screenHeight-83}}),wx.getSystemInfo({success:function(t){console.log(t),e.busPos["x"]=t.windowWidth-50,e.busPos["y"]=t.windowHeight-83}}),this.getCategoryList()},methods:{changeOperation:function(t){t!=this.currentOperation&&(this.operationList[this.currentOperation].check=0),this.currentOperation=t,this.operationList[t].check=2==this.operationList[t].check?1:this.operationList[t].check+1,this.getSortGoods()},touchOnGoods:function(t,e){console.log("点击的坐标:",e),this.timer&&clearInterval(this.timer),this.finger={};var s={};this.finger["x"]=t.target.x,this.finger["y"]=t.target.y,this.finger["y"]<this.busPos["y"]?s["y"]=this.finger["y"]-150:s["y"]=this.busPos["y"]-150,s["x"]=Math.abs(this.finger["x"]-this.busPos["x"])/2,this.finger["x"]>this.busPos["x"]?s["x"]=(this.finger["x"]-this.busPos["x"])/2+this.busPos["x"]:s["x"]=(this.busPos["x"]-this.finger["x"])/2+this.finger["x"],this.linePos=i([this.busPos,s,this.finger],30),this.startAnimation(e)},startAnimation:function(t){var e=0,i=this,s=i.linePos["bezier_points"];i.hide_good_box=!0,i.bus_x=i.finger["x"],i.bus_y=i.finger["y"];var o=s.length;e=o,i.timer=setInterval(function(){e--,i.bus_x=s[e]["x"],i.bus_y=s[e]["y"],e<25&&(i.shakeFlag=!0),e<1&&(clearInterval(i.timer),i.hide_good_box=!0,i.addGoodToCar(t))},25)},addGoodToCar:function(t){var e=this;e.isLogin()&&e.baseGet(e.U({c:"store_api",a:"details",q:{id:t}}),function(i){e.basePost(e.U({c:"auth_api",a:"set_cart"}),{productId:t,merId:i.data.merInfo.id,cartNum:1},function(t){e.carNum++,e.shakeFlag=!1},function(t){e.Tips({title:"服务器开小差了，请稍后在试~"})})},function(t){console.log(t)},!0)},changeAllRank:function(){this.allOrder=2==this.allOrder?0:this.allOrder+1,this.getSortGoods()},changeSalesRank:function(){this.salesOrder=2==this.salesOrder?0:this.salesOrder+1,this.getSortGoods()},changePriceRank:function(){this.priceOrder=2==this.priceOrder?0:this.priceOrder+1,this.getSortGoods()},getCategoryList:function(){var t=this;t.baseGet(t.U({c:"store_api",a:"get_id_cate"}),function(e){t.showCategory(0,e.data[0].id),t.categoryList=e.data},function(t){console.log(t)},!0)},keep:function(){this.isKeep=!this.isKeep},getSortGoods:function(){var t=this;t.goodsList=[],t.baseGet(t.U({c:"store_api",a:"get_product_list",q:{cid:t.sortCurrentId,keyword:"",priceOrder:0==t.operationList[2].check?"":1==t.operationList[2].check?"asc":"desc",salesOrder:0==t.operationList[1].check?"":1==t.operationList[1].check?"asc":"desc",news:"",page:"",limit:""}}),function(e){t.goodsList=e.data},function(t){console.log(t)},!0)},showCategory:function(t,e){this.showCategoryIndex=t,this.sortCurrentId=e,this.getSortGoods()},search:function(e){t.navigateTo({url:"/pages/list/search/search"})},switToShoppingCart:function(){t.switchTab({url:"/pages/tabber/shopping_cart/shopping_cart"})},goodeDetails:function(e){t.navigateTo({url:"/pages/list/goode_details/goode_details?id="+e.currentTarget.dataset.id})},navToBack:function(){t.navigateBack()}}};e.default=s}).call(this,i("543d")["default"])},f67e:function(t,e,i){"use strict";var s=i("3061"),o=i.n(s);o.a},fabd:function(t,e,i){"use strict";(function(t){i("7a84"),i("921b");s(i("66fd"));var e=s(i("1ed1"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,i("543d")["createPage"])}},[["fabd","common/runtime","common/vendor"]]]);