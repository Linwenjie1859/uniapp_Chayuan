(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/my_coupon/my_coupon"],{"040f":function(t,n,o){"use strict";var e,i=function(){var t=this,n=t.$createElement;t._self._c},s=[];o.d(n,"b",function(){return i}),o.d(n,"c",function(){return s}),o.d(n,"a",function(){return e})},"45b5":function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=function(){return o.e("components/uni-load-more/uni-load-more").then(o.bind(null,"512e"))},i={components:{uniLoadMore:e},data:function(){return{couponValidList:[],headerTop:0,typeClass:"valid",subState:"",theIndex:null,oldIndex:null,isStop:!1,refreshFlag:!0,loadingStatus:"loading",noDataFlag:!1}},onLoad:function(){this.getUserCoupon()},onPullDownRefresh:function(){this.couponValidList=[],this.getUserCoupon()},methods:{detail:function(n){console.log(n),t.navigateTo({url:"/pages/shop/shop_collection_coupon/shop_collection_coupon?couponId="+n})},dealData:function(t){for(var n=0;n<t.length;n++)t[n]["coupon_price"]=t[n]["coupon_price"].substring(0,t[n]["coupon_price"].indexOf(".")),console.log(t[n]);return t},getUserCoupon:function(){var n=this;n.basePost(n.U({c:"coupons_api",a:"get_use_coupon"}),{},function(o){t.stopPullDownRefresh(),0==o.data.length&&(n.noDataFlag=!0),n.refreshFlag=!1,n.couponValidList=n.dealData(o.data)},function(t){console.log(t)})},switchType:function(n){var o=this;this.typeClass!=n&&(t.pageScrollTo({scrollTop:0,duration:0}),this.typeClass=n,this.subState=""==this.typeClass?"":"show"+n,setTimeout(function(){o.oldIndex=null,o.theIndex=null,o.subState="valid"==o.typeClass?"":o.subState},200))},touchStart:function(t,n){n.touches.length>1?this.isStop=!0:(this.oldIndex=this.theIndex,this.theIndex=null,this.initXY=[n.touches[0].pageX,n.touches[0].pageY])},touchMove:function(t,n){var o=this;if(n.touches.length>1)this.isStop=!0;else{var e=n.touches[0].pageX-this.initXY[0],i=n.touches[0].pageY-this.initXY[1];this.isStop||Math.abs(e)<5||(Math.abs(i)>Math.abs(e)?this.isStop=!0:e<0?(this.theIndex=t,this.isStop=!0):e>0&&null!=this.theIndex&&this.oldIndex==this.theIndex&&(this.oldIndex=t,this.theIndex=null,this.isStop=!0,setTimeout(function(){o.oldIndex=null},150)))}},touchEnd:function(t,n){this.isStop=!1},deleteCoupon:function(t,n){for(var o=n.length,e=0;e<o;e++)if(t==n[e].id){n.splice(e,1);break}this.oldIndex=null,this.theIndex=null},discard:function(){}}};n.default=i}).call(this,o("543d")["default"])},5922:function(t,n,o){"use strict";o.r(n);var e=o("45b5"),i=o.n(e);for(var s in e)"default"!==s&&function(t){o.d(n,t,function(){return e[t]})}(s);n["default"]=i.a},"7e63":function(t,n,o){"use strict";o.r(n);var e=o("040f"),i=o("5922");for(var s in i)"default"!==s&&function(t){o.d(n,t,function(){return i[t]})}(s);o("b370");var u,a=o("f0c5"),l=Object(a["a"])(i["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],u);n["default"]=l.exports},b370:function(t,n,o){"use strict";var e=o("d06f"),i=o.n(e);i.a},c1f7:function(t,n,o){"use strict";(function(t){o("7a84"),o("921b");e(o("66fd"));var n=e(o("7e63"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,o("543d")["createPage"])},d06f:function(t,n,o){}},[["c1f7","common/runtime","common/vendor"]]]);